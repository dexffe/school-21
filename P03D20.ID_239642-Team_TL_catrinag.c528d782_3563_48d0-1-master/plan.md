üìÑ –ü–û–õ–ù–´–ô –ü–õ–ê–ù –†–ê–ó–†–ê–ë–û–¢–ö–ò –ü–†–û–ì–†–ê–ú–ú–´ –î–õ–Ø –ü–û–°–¢–†–û–ï–ù–ò–Ø –ì–†–ê–§–ò–ö–û–í –§–£–ù–ö–¶–ò–ô
1. –ê–ù–ê–õ–ò–ó –¢–†–ï–ë–û–í–ê–ù–ò–ô
–¶–µ–ª—å: –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ C, –∫–æ—Ç–æ—Ä–∞—è:
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ–≥–æ –≤ –ø–æ–ª—å—Å–∫—É—é –Ω–æ—Ç–∞—Ü–∏—é (–∞–ª–≥–æ—Ä–∏—Ç–º –î–µ–π–∫—Å—Ç—Ä—ã).
–°—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ–∏–∫ —Ñ—É–Ω–∫—Ü–∏–∏ y = f(x) –Ω–∞ –∫–æ–Ω—Å–æ–ª–∏.
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ (–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è).
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
–ë–∏–Ω–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã: +, -, *, /, ^.
–£–Ω–∞—Ä–Ω—ã–π –º–∏–Ω—É—Å.
–§—É–Ω–∫—Ü–∏–∏: sin, cos, tan, ctg, sqrt, ln.
–°–∫–æ–±–∫–∏ () –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏.
–í—ã—Ö–æ–¥:
–ï—Å–ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚Äî –≤—ã–≤–æ–¥ –≥—Ä–∞—Ñ–∏–∫–∞.
–ï—Å–ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚Äî –≤—ã–≤–æ–¥ n/a.
2. –ü–†–û–ï–ö–¢–ò–†–û–í–ê–ù–ò–ï –°–¢–†–£–ö–¢–£–†–´ –ü–†–û–ì–†–ê–ú–ú–´
–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å:
stack.c/h: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏.
parser.c/h: –ü–∞—Ä—Å–∏–Ω–≥ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –ø–æ—Å—Ç—Ñ–∏–∫—Å–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é.
evaluator.c/h: –û—Ü–µ–Ω–∫–∞ –ø–æ—Å—Ç—Ñ–∏–∫—Å–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.
main.c: –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–≤–≤–æ–¥, –ø—Ä–æ–≤–µ—Ä–∫–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞).
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
project/
‚îú‚îÄ‚îÄ include/        # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ stack.h
‚îÇ   ‚îú‚îÄ‚îÄ parser.h
‚îÇ   ‚îî‚îÄ‚îÄ evaluator.h
‚îú‚îÄ‚îÄ src/            # –ò—Å—Ç–æ—á–Ω–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ main.c
‚îÇ   ‚îú‚îÄ‚îÄ stack.c
‚îÇ   ‚îú‚îÄ‚îÄ parser.c
‚îÇ   ‚îî‚îÄ‚îÄ evaluator.c
‚îî‚îÄ‚îÄ build/          # –í—ã—Ö–æ–¥–Ω–æ–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª
3. –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø –ú–û–î–£–õ–ï–ô
3.1. –°—Ç–µ–∫ (stack.c/h)
–ó–∞–¥–∞—á–∞: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç–µ–∫ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ (–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, —á–∏—Å–µ–ª, —Ñ—É–Ω–∫—Ü–∏–π).
–§—É–Ω–∫—Ü–∏–∏:
stack_create(): –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–µ–∫–∞.
stack_push(): –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞.
stack_pop(): –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞.
stack_is_empty(): –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Å—Ç–æ—Ç—ã.
stack_free(): –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.
3.2. –ü–∞—Ä—Å–µ—Ä (parser.c/h)
–ó–∞–¥–∞—á–∞: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –≤ –ø–æ—Å—Ç—Ñ–∏–∫—Å–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é (–∞–ª–≥–æ—Ä–∏—Ç–º –î–µ–π–∫—Å—Ç—Ä—ã).
–®–∞–≥–∏:
–¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è:
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ —Ç–æ–∫–µ–Ω—ã: —á–∏—Å–ª–∞, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, —Å–∫–æ–±–∫–∏, —Ñ—É–Ω–∫—Ü–∏–∏.
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π: sin, cos, tan, ctg, sqrt, ln.
–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –ø–æ—Å—Ç—Ñ–∏–∫—Å–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é:
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–µ–∫–∞ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤.
–£—á–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–π.
–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –∏ –∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏:
–ù–µ—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫–æ–±–∫–∏.
–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã.
–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —É —Ñ—É–Ω–∫—Ü–∏–π.
3.3. –û—Ü–µ–Ω–∫–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏—è (evaluator.c/h)
–ó–∞–¥–∞—á–∞: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ—Å—Ç—Ñ–∏–∫—Å–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ x.
–®–∞–≥–∏:
–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤:
–ß–∏—Å–ª–∞: –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Å—Ç–µ–∫.
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è x: –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
–û–ø–µ—Ä–∞—Ç–æ—Ä—ã: –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –¥–≤–∞ –æ–ø–µ—Ä–∞–Ω–¥–∞, –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
–§—É–Ω–∫—Ü–∏–∏: –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è.
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:
+, -, *, /, ^.
sin(x), cos(x), tan(x), ctg(x), sqrt(x), ln(x).
3.4. –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ (main.c)
–ó–∞–¥–∞—á–∞: –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤—Å–µ –º–æ–¥—É–ª–∏ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞.
–®–∞–≥–∏:
–í–≤–æ–¥ –≤—ã—Ä–∞–∂–µ–Ω–∏—è:
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å (–≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–∫–æ–±–æ–∫).
–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞:
–¶–∏–∫–ª –ø–æ x –æ—Ç -10 –¥–æ 10 —Å —à–∞–≥–æ–º 0.5.
–î–ª—è –∫–∞–∂–¥–æ–≥–æ x:
–í—ã—á–∏—Å–ª–µ–Ω–∏–µ y = evaluate_postfix(...).
–í—ã–≤–æ–¥ —Å–∏–º–≤–æ–ª–∞ * –≤ –ø–æ–∑–∏—Ü–∏–∏ pos = round(y * 2 + 20).
–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
–ï—Å–ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚Äî –≤—ã–≤–æ–¥ n/a.
4. –ö–û–†–†–ï–ö–¢–ù–ê–Ø –°–ë–û–†–ö–ê –° –ü–û–ú–û–©–¨–Æ MAKEFILE
Makefile:
makefile
CC = gcc
CFLAGS = -Wall -Wextra -Werror -std=c11 -Iinclude -lm
SRC = src/main.c src/stack.c src/parser.c src/evaluator.c
TARGET = build/graph

build:
    mkdir -p build

all: build
    $(CC) $(CFLAGS) $(SRC) -o $(TARGET)

clean:
    rm -rf build

rebuild: clean all

run: all
    ./$(TARGET)
–ü—Ä–∞–≤–∏–ª–∞:
–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ .c-—Ñ–∞–π–ª—ã —É–∫–∞–∑–∞–Ω—ã –≤ SRC.
–£–∫–∞–∑–∞—Ç—å -Iinclude –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤.
–î–æ–±–∞–≤–∏—Ç—å -lm –¥–ª—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π (sin, cos, sqrt –∏ —Ç.–¥.).
5. –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï
–¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏:

–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è:
sin(x) + cos(x)
sqrt(x^2 + 1)
ln(x + 1)
–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è:
sin(x (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞).
x + * 2 (–Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä).
sqrt(-1) (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –¥–ª—è –∫–æ—Ä–Ω—è).
–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–∏:
–£–Ω–∞—Ä–Ω—ã–π –º–∏–Ω—É—Å: -x + 5.
–ö–æ—Ç–∞–Ω–≥–µ–Ω—Å: ctg(x) (–≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ 1/tan(x)).
–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π ‚Äî –≥—Ä–∞—Ñ–∏–∫ –≤ –≤–∏–¥–µ —Å–∏–º–≤–æ–ª–æ–≤ *.
–î–ª—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö ‚Äî n/a.
6. –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø
–ß—Ç–æ –≤–∫–ª—é—á–∏—Ç—å:
–û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –æ–ø–µ—Ä–∞—Ü–∏–π.
–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–≥—Ä–∞–º–º—ã.
–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.
7. –ü–û–î–í–û–î–ù–´–ï –ö–ê–ú–ù–ò –ò –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò
–ü—Ä–æ–±–ª–µ–º—ã —Å Makefile:
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ .c-—Ñ–∞–π–ª—ã —É–∫–∞–∑–∞–Ω—ã –≤ SRC.
–ù–µ –∑–∞–±—É–¥—å—Ç–µ -Iinclude –∏ -lm.
–ü–∞—Ä—Å–∏–Ω–≥ —Ñ—É–Ω–∫—Ü–∏–π:
–ü–æ—Å–ª–µ –∏–º–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (sin, cos) –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞ (.
–ê—Ä–≥—É–º–µ–Ω—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–ø—É—Å—Ç–∏–º—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º.
–í—ã—á–∏—Å–ª–µ–Ω–∏—è:
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ tan(x) –Ω–µ —Ä–∞–≤–µ–Ω –Ω—É–ª—é –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ ctg(x).
–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ, —á—Ç–æ–±—ã x >= 0 –¥–ª—è sqrt(x).
8. –ü–†–ò–ú–ï–† –†–ê–ë–û–¢–´ –ü–†–û–ì–†–ê–ú–ú–´
bash
$ ./build/graph "sin(x) + cos(x)"
Graph of function:
                                        *
                                   *   *
                              *       *
                         *           *
                    *               *
               *                   *
          *                       *
     *                           *
*                               *
‚úÖ –ò–¢–û–ì
–°–ª–µ–¥—É—è —ç—Ç–æ–º—É –ø–ª–∞–Ω—É, –≤—ã —Å–º–æ–∂–µ—Ç–µ:

–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É —Å —á–µ—Ç–∫–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.
–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –î–µ–π–∫—Å—Ç—Ä—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ñ—É–Ω–∫—Ü–∏–π.
–û–±–µ—Å–ø–µ—á–∏—Ç—å –≥–∏–±–∫—É—é —Å–±–æ—Ä–∫—É —Å –ø–æ–º–æ—â—å—é Makefile.
–ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏.
